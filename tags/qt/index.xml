<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>QT on Biney&#39;s blog</title>
    <link>https://blog.mose.ltd/tags/qt/</link>
    <description>Recent content in QT on Biney&#39;s blog</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Sat, 02 Aug 2025 14:33:56 +0800</lastBuildDate>
    <atom:link href="https://blog.mose.ltd/tags/qt/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>手拧出来的界面——Python &#43; Qt5 纯代码布局实战手账</title>
      <link>https://blog.mose.ltd/posts/%E6%89%8B%E6%8B%A7%E5%87%BA%E6%9D%A5%E7%9A%84%E7%95%8C%E9%9D%A2python-&#43;-qt5-%E7%BA%AF%E4%BB%A3%E7%A0%81%E5%B8%83%E5%B1%80%E5%AE%9E%E6%88%98%E6%89%8B%E8%B4%A6/</link>
      <pubDate>Sat, 02 Aug 2025 14:33:56 +0800</pubDate>
      <guid>https://blog.mose.ltd/posts/%E6%89%8B%E6%8B%A7%E5%87%BA%E6%9D%A5%E7%9A%84%E7%95%8C%E9%9D%A2python-&#43;-qt5-%E7%BA%AF%E4%BB%A3%E7%A0%81%E5%B8%83%E5%B1%80%E5%AE%9E%E6%88%98%E6%89%8B%E8%B4%A6/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;记录一次从“拖一拖就能跑”到“手拧螺丝”的转向。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;场景：做一个日志管理与点云浏览的小工具，迭代很快，UI 需要频繁改版。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;00为什么我从可视化回到纯代码&#34;&gt;&lt;strong&gt;00｜为什么我从可视化回到纯代码&lt;/strong&gt;&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;那天晚上 23:40&lt;/strong&gt;，我在 Qt Designer 里把两个 QHBoxLayout 嵌套成了“左树右表”，又加了三层 QSpacerItem。看起来顺手，但两件小事把我劝退了：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;改动难做“参数化”&lt;/strong&gt;：想“根据配置隐藏右栏”，在 .ui 里要加占位、条件样式，变成“面向工具工作”，不是“面向需求工作”。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;版本控制不可读&lt;/strong&gt;：.ui 是 XML，MR 里几十行 diff 看不出&lt;strong&gt;意图&lt;/strong&gt;，合并时冲突又脆。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;后来我用纯代码重搭一遍布局。几百行 Python 全在仓里，谁改了哪一行一眼明白。主题切换、动态插拔控件、AB 测试布局，都更像写程序而不是拼积木。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;总结&lt;/strong&gt;：&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;Designer 优点&lt;/strong&gt;：上手快、视觉把控直观、适合静态页面。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;Designer 痛点&lt;/strong&gt;：动态视图/条件布局吃力、PR 不可读、多人协作容易踩冲突。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;纯代码优点&lt;/strong&gt;：参数化、复用、可测试、可 review。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;纯代码门槛&lt;/strong&gt;：前期慢；但一旦形成“布局配方”，改动成本下降快。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;01三张布局配方卡&#34;&gt;&lt;strong&gt;01｜三张“布局配方卡”&lt;/strong&gt;&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;配方卡都用 &lt;strong&gt;PyQt5&lt;/strong&gt;（pip install PyQt5），关键是&lt;strong&gt;结构&lt;/strong&gt;与&lt;strong&gt;伸缩因子&lt;/strong&gt;用对。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;卡-1经典三段式工具栏--主区--状态栏&#34;&gt;&lt;strong&gt;卡 1：经典三段式（工具栏 / 主区 / 状态栏）&lt;/strong&gt;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; PyQt5.QtWidgets &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; (QApplication, QMainWindow, QWidget, QVBoxLayout,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                             QHBoxLayout, QToolBar, QLabel, QStatusBar, QPushButton)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Shell&lt;/span&gt;(QMainWindow):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; __init__(self):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;super&lt;/span&gt;()&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;__init__()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;setWindowTitle(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;三段式配方&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;# 1) 工具栏&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        tb &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QToolBar(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;工具&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        tb&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addAction(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;刷新&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        tb&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addAction(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;导出&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addToolBar(tb)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;# 2) 中心区：左列（过滤器）+ 右列（内容）&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        center &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QWidget()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        main &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QHBoxLayout(center)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        left &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QWidget(); left_col &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QVBoxLayout(left)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        left_col&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addWidget(QLabel(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;过滤器&amp;#34;&lt;/span&gt;))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        left_col&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addStretch(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)  &lt;span style=&#34;color:#6272a4&#34;&gt;# 左列靠上，剩余空间往下消化&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        right &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QWidget(); right_col &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; QVBoxLayout(right)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        right_col&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addWidget(QLabel(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;内容视图&amp;#34;&lt;/span&gt;))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        right_col&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addStretch(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        main&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addWidget(left, &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;)   &lt;span style=&#34;color:#6272a4&#34;&gt;# 权重 0：窄栏&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        main&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;addWidget(right, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)  &lt;span style=&#34;color:#6272a4&#34;&gt;# 权重 1：主栏&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        main&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;setContentsMargins(&lt;span style=&#34;color:#bd93f9&#34;&gt;12&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;12&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;12&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;12&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        main&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;setSpacing(&lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;setCentralWidget(center)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;setStatusBar(QStatusBar())&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;要点&lt;/strong&gt;：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
